var $e=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var b={HIGHLIGHT_COLOR:"#0da2e7",HIGHLIGHT_BG:"#0da2e71a",ALLOWED_ORIGINS:["https://gptengineer.app","http://localhost:3000","https://lovable.dev"],DEBOUNCE_DELAY:10,Z_INDEX:1e4,TOOLTIP_OFFSET:25,MAX_TOOLTIP_WIDTH:200,SCROLL_DEBOUNCE:420,FULL_WIDTH_TOOLTIP_OFFSET:"12px",HIGHLIGHT_STYLE:{FULL_WIDTH:{OFFSET:"-5px",STYLE:"solid"},NORMAL:{OFFSET:"0",STYLE:"solid"}},SELECTED_ATTR:"data-lov-selected",HOVERED_ATTR:"data-lov-hovered",OVERRIDE_STYLESHEET_ID:"lovable-override"},D=e=>{b.ALLOWED_ORIGINS.forEach(t=>{try{if(!window.parent)return;if(!e||typeof e!="object"){console.error("Invalid message format");return}window.parent.postMessage(e,t)}catch(r){console.error(`Failed to send message to ${t}:`,r)}})},mr=()=>new Promise(e=>{if(document.readyState!=="loading"){e();return}requestIdleCallback(()=>{e()})}),St=async()=>{await mr();let e=import.meta.hot;return e&&await new Promise(t=>{let r=()=>{if(!e.data.pending){t();return}setTimeout(r,50)};r()}),window.__REACT_SUSPENSE_DONE&&await window.__REACT_SUSPENSE_DONE,!0},et=()=>new Promise(e=>{let t=document.getElementById("root");if(t&&t.children.length>0){e();return}new MutationObserver((o,n)=>{let i=document.getElementById("root");i&&i.children.length>0&&(n.disconnect(),e())}).observe(document.body,{childList:!0,subtree:!0})});var hr=()=>{let e=window.fetch;window.fetch=async function(...t){let r=Date.now();try{let o;if(t?.[1]?.body)try{typeof t[1].body=="string"?o=t[1].body:t[1].body instanceof FormData?o="FormData: "+Array.from(t[1].body.entries()).map(([l,a])=>`${l}=${a}`).join("&"):t[1].body instanceof URLSearchParams?o=t[1].body.toString():o=JSON.stringify(t[1].body)}catch{o="Could not serialize request body"}let n=await e(...t),i;try{n.clone&&(i=await n.clone().text())}catch(l){i=`[Clone failed: ${l instanceof Error?l.message:"Unknown error"}]`}return D({type:"NETWORK_REQUEST",request:{url:t?.[0]||n.url,method:t?.[1]?.method||"GET",status:n.status,statusText:n.statusText,responseBody:i,requestBody:o,timestamp:new Date().toISOString(),duration:Date.now()-r,origin:window.location.origin,headers:t?.[1]?.headers?Object.fromEntries(new Headers(t?.[1]?.headers)):{}}}),n}catch(o){let n;if(t?.[1]?.body)try{typeof t[1].body=="string"?n=t[1].body:t[1].body instanceof FormData?n="FormData: "+Array.from(t[1].body.entries()).map(([a,s])=>`${a}=${s}`).join("&"):t[1].body instanceof URLSearchParams?n=t[1].body.toString():n=JSON.stringify(t[1].body)}catch{n="Could not serialize request body"}let i={url:t?.[0],method:t?.[1]?.method||"GET",origin:window.location.origin,timestamp:new Date().toISOString(),duration:Date.now()-r,headers:t?.[1]?.headers?Object.fromEntries(new Headers(t?.[1]?.headers)):{},requestBody:n},l=o instanceof TypeError?{...i,error:{message:o?.message||"Unknown error",stack:o?.stack}}:{...i,error:{message:o&&typeof o=="object"&&"message"in o&&typeof o.message=="string"?o.message:"Unknown fetch error",stack:o&&typeof o=="object"&&"stack"in o&&typeof o.stack=="string"?o.stack:"Not available"}};throw D({type:"NETWORK_REQUEST",request:l}),o}}},gr=()=>{let e=document.querySelector("div#root");return e?e.childElementCount===0:!1},bt=(()=>{let e=!1,t=({message:r,lineno:o,colno:n,filename:i,error:l})=>({message:r,lineno:o,colno:n,filename:i,stack:l?.stack});return()=>{if(e)return;let r=new Set,o=l=>{let{lineno:a,colno:s,filename:c,message:d}=l;return`${d}|${c}|${a}|${s}`};hr();let n=l=>r.has(l)?!0:(r.add(l),setTimeout(()=>r.delete(l),5e3),!1),i=l=>{let a=o(l);if(n(a))return;let s=t(l);D({type:"RUNTIME_ERROR",error:{...s,blankScreen:gr()}})};window.addEventListener("error",i),window.addEventListener("unhandledrejection",l=>{if(!l.reason?.stack)return;let a=l.reason?.stack||l.reason?.message||String(l.reason);if(n(a))return;let s={message:l.reason?.message||"Unhandled promise rejection",stack:l.reason?.stack||String(l.reason)};D({type:"UNHANDLED_PROMISE_REJECTION",error:s})}),e=!0}})();
/* ... remainder identical to /workspace/lovable.js ... */